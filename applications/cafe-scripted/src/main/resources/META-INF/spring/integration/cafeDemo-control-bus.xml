<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
	xmlns="https://www.springframework.org/schema/integration"
	xmlns:beans="https://www.springframework.org/schema/beans"
	xmlns:groovy="https://www.springframework.org/schema/integration/groovy"
	xmlns:rmi="https://www.springframework.org/schema/integration/rmi"
	xsi:schemaLocation="https://www.springframework.org/schema/integration https://www.springframework.org/schema/integration/spring-integration.xsd
		https://www.springframework.org/schema/integration/rmi https://www.springframework.org/schema/integration/rmi/spring-integration-rmi.xsd
		https://www.springframework.org/schema/integration/groovy https://www.springframework.org/schema/integration/groovy/spring-integration-groovy.xsd
		https://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd">

   <beans:description>
   This is the application context for ControlBusMain. It configures a Gateway tied to an RMI outbound gateway to communicate 
   remotely with the CafeDemoApp.
   </beans:description>
   
   
   <gateway id="waiterMonitor"
         service-interface="org.springframework.integration.samples.cafe.WaiterMonitor">
           <method name="sendControlScript" request-channel="controlBusInput" request-timeout="1000" reply-timeout="1000"/>
   </gateway>
    
   <rmi:outbound-gateway 
                       request-channel="controlBusInput"                
                       remote-channel="controlBusInput"
                       reply-timeout="1000"   
                       request-timeout="1000"           
                       host="localhost"/>
	
</beans:beans>
